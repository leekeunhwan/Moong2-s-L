<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>프로그래머스 문제 46번</title>
</head>

<body>
    <script>
        // 선행 스킬이란 어떤 스킬을 배우기 전에 먼저 배워야 하는 스킬을 뜻합니다.

        // 예를 들어 선행 스킬 순서가 스파크→ 라이트닝 볼트→ 썬더일때, 썬더를 배우려면 
        // 먼저 라이트닝 볼트를 배워야 하고, 라이트닝 볼트를 배우려면 먼저 스파크를 배워야 합니다.

        // 위 순서에 없는 다른 스킬(힐링 등) 은 순서에 상관없이 배울 수 있습니다.
        // 따라서 스파크→ 힐링→ 라이트닝 볼트→ 썬더와 같은 스킬트리는 가능하지만,
        // 썬더→ 스파크나 라이트닝 볼트→ 스파크→ 힐링→ 썬더와 같은 스킬트리는 불가능합니다.

        // 선행 스킬 순서 skill과 유저들이 만든 스킬트리1를 담은 배열 skill_trees가 매개변수로 주어질 때, 
        // 가능한 스킬트리 개수를 return 하는 solution 함수를 작성해주세요.

        // 제한 조건
        // 스킬은 알파벳 대문자로 표기하며, 모든 문자열은 알파벳 대문자로만 이루어져 있습니다.
        // 스킬 순서와 스킬트리는 문자열로 표기합니다.
        // 예를 들어, C→ B→ D 라면 CBD로 표기합니다
        // 선행 스킬 순서 skill의 길이는 1 이상 26 이하이며, 스킬은 중복해 주어지지 않습니다.
        // skill_trees는 길이 1 이상 20 이하인 배열입니다.
        // skill_trees의 원소는 스킬을 나타내는 문자열입니다.
        // skill_trees의 원소는 길이가 2 이상 26 이하인 문자열이며, 스킬이 중복해 주어지지 않습니다.

        // 입출력 예
        // skill skill_trees return 
        // "CBD" ["BACDE", "CBADF", "AECB", "BDA"] 2

        // 입출력 예 설명
        // BACDE: B 스킬을 배우기 전에 C 스킬을 먼저 배워야 합니다. 불가능한 스킬트립니다.
        // CBADF: 가능한 스킬트리입니다.
        // AECB: 가능한 스킬트리입니다.
        // BDA: B 스킬을 배우기 전에 C 스킬을 먼저 배워야 합니다. 불가능한 스킬트리입니다.

        function solution(skill, skill_trees) {
            let answer = 0;
            // 유저들이 만든 스킬트리를 돌면서
            for (let i = 0; i < skill_trees.length; i++) {
                // 가능한지 안한지 결과를 알기위한 boolean 타입 변수 선언
                let result = true;
                // 첫번째 글자부터 카운트 하기위해 initialIndex = 0으로 선언
                let initialIndex = 0;
                // 스킬 트리의 아이템을 한글자씩 쪼개서
                const skills = skill_trees[i].split('')
                // 확인해보면서
                for (let k = 0; k < skills.length; k++) {
                    // 0보다 크면 첫 스킬도 못찍고 다음스킬 찍은거니까 불가능한 스킬트리
                    if (initialIndex < skill.indexOf(skills[k])) {
                        // 실패
                        result = false;
                        // 이번루프 종료
                        break;
                        // 0과 같으면 첫 스킬은 찍은거니까 다음 글자 확인하기 위해
                    } else if (initialIndex === skill.indexOf(skills[k])) {
                        // index 증가
                        initialIndex++;
                    }
                    // 0보다 작으면 skills[k]는 해당안되는 거니까 더 탐색
                }
                // 다 돌고 flag가 true면
                if (result) {
                    // 가능한 스킬트리니까 정답 증가
                    answer++;
                }
            }
            // 정답 출력
            return answer;
        }

        // 풀고 보면 되게 쉬운데 푸는 내내 계속 꼬여서
        // 진을 뻈던 것 같다. 왜 그랬을까..
        // 흠.. 최대한 쉽게 생각하고 쉽게 풀어야하는데
        // 자꾸 내가 스스로 어렵게 코드를 짜는 것 같다.
        // 다시 코드를 쉽게짜는 연습을 해야겠다.
    </script>
</body>

</html>